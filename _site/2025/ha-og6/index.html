<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  

  <title>The Alternate Hypothesis of OG-6</title>
  <meta name="description" content="Dearest Mother,

">
  <meta name="author" content="Roger Trimble">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="The Alternate Hypothesis of OG-6">
  <meta name="twitter:description" content="Dearest Mother,

">
  
  <meta name="twitter:image" content="/TurningBull/images/favicons/favicon-194x194.png" />

  <meta property="og:type" content="article">
  <meta property="og:title" content="The Alternate Hypothesis of OG-6">
  <meta property="og:description" content="Dearest Mother,

">
  <meta property="og:image" content="/TurningBull/images/favicons/favicon-194x194.png" />

  <link rel="apple-touch-icon" sizes="57x57" href="/TurningBull/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/TurningBull/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/TurningBull/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/TurningBull/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/TurningBull/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/TurningBull/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/TurningBull/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/TurningBull/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/TurningBull/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/TurningBull/images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/TurningBull/images/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="/TurningBull/images/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/TurningBull/images/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/TurningBull/images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/TurningBull/images/favicons/manifest.json">
  <link rel="shortcut icon" href="/TurningBull/images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/TurningBull/images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">
  
  <link rel="stylesheet" href="/TurningBull/css/main.css?1752841309215837778">
  <link rel="canonical" href="http://0.0.0.0:4000/TurningBull/2025/ha-og6/">
  <link rel="alternate" type="application/rss+xml" title="the TurningBull" href="/TurningBull/feed.xml">
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>


  <body>
    <span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>

<header class="panel-cover "
  style="background-image: url(/TurningBull/images/cover.jpeg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
      <div class="panel-main__content">
        <a href="/TurningBull/" title="link to home of the TurningBull">
          <img src="/TurningBull/images/profile.jpeg" class="user-image" alt="My Profile Photo">
          <h1 class="panel-cover__title panel-title">the TurningBull</h1>
        </a>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">Random reflections on quantitative finance, economics and leadership</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/TurningBull/#blog" title="link to the TurningBull blog"
                  class="blog-button">Blog</a></li>
            </ul>
          </nav>

          <nav class="cover-navigation navigation--social">
            <ul class="navigation">

              

              

              
              <!-- LinkedIn -->
              <li class="navigation__item">
                <a href="https://www.linkedin.com/in/roger-trimble-cfa-frm-358a523"
                  title="roger-trimble-cfa-frm-358a523 on LinkedIn" target="_blank">
                  <i class="icon icon-social-linkedin"></i>
                  <span class="label">LinkedIn</span>
                </a>
              </li>
              

              
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.github.com/rtrimble13"
                  title="rtrimble13 on GitHub" target="_blank">
                  <i class="icon icon-social-github"></i>
                  <span class="label">GitHub</span>
                </a>
              </li>
              

              
              <!-- Email -->
              <li class="navigation__item">
                <a href="mailto:roger@turningbull.com" title="Email roger@turningbull.com" target="_blank">
                  <i class="icon icon-mail"></i>
                  <span class="label">Email</span>
                </a>
              </li>
              

              <!-- RSS -->
              <li class="navigation__item">
                <a href="/TurningBull/feed.xml" title="Subscribe" target="_blank">
                  <i class="icon icon-rss"></i>
                  <span class="label">RSS</span>
                </a>
              </li>

            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <article class="post-container post-container--single">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2025-03-31 00:00" class="post-meta__date date">31 Mar 2025</time>
      
    </div>
    <img src="/TurningBull/images/posts/mar25/Battle_of_Trenton.jpg" alt="" class="featured-image-post">
    <h1 class="post-title">The Alternate Hypothesis of OG-6</h1>
  </header>

  <section class="post">
    <p><em>Dearest Mother,</em></p>

<p><em>I am writing you this letter in the hope that I will deliver it to you personally.  My enlistment is up within the fortnight, and I am eager to rejoin you on the farm in time for Spring.  Upon my arrival I will also offer my apologies for not writing since acting on my decision to take up arms against the Red Coats.  I do hope you will forgive my decision, for it was with the best of intentions.  Our financial situation is not lost on me, and the promise of nine months earnings could help us pull through at least one more harvest.  That is, of course, if this Continental currency holds any value by the time I return…</em></p>

<p><em>I’m honestly unsure I would make the same decision if presented it again.  Since Brooklyn, it seems that all we do is flee further inland.  To think that just a few months ago we held such confidence in our position on Long Island.  And, the last image I have of New York is of it engulfed in fire.  We encamp in one spot for just a few days before the King’s men or the Hessians are on the move.  Somehow, though, the Old Fox continues to keep them at bay.  Since winter’s onset, both food and ammunition always seem to be in short supply.  Even the locals, those who are sympathtic to our cause, seem to look the other way in our presence.  It is as if they hold less optimism for our success than we do, and yet we are the ones who march through the night often without shoes or coats.  We are the ones who face the gallows if we desert, or impressment into His Majesty’s Navy if we are captured.  The soldiers’ lot is bleak, my dearest Mother.</em></p>

<p><em>Tomorrow is Christmas Eve and we are preparing something bold, I am told.  The Old Fox has us making preparations to cross the Deleware for a place called Trenton.  I am told the Hessians have set up for the winter there, and my guess is this is our Fox’s last chance before all our enlistments are through.  It does little to lighten the heart to know that our sentry’s password and challenge tonight is “Victory or Death.”  I know not why I write this to you, Mother, except perhaps it is the cold, hunger and fear that have crept into my bones.  It is my hope that this letter will never come to you, and that in three months time we will be reunited.  Pray for us all, Mother</em></p>

<p><em>Signed: Your Loving Son, 23 December, 1776</em></p>

<p><img src="/TurningBull/images/posts/mar25/Washington-wretched-army.jpg" alt="March" /></p>

<h3 id="hypothesis-testing-the-battle-of-trenton">Hypothesis Testing the Battle of Trenton</h3>

<p>Two guesses who the <em>‘Old Fox’</em> was…  That’s right: the Original Gangster.  In the spirit of contemporary military parlance, let’s just refer to him as OG-6.  Although the year began with a confident Continental Army arriving in New York after a sucessful go at the British at Bunker Hill, by year end the mood had decidedly shifted.  Outnumbered and outmaneuvered at the Battle of Brooklyn in the Summer of 1776, OG-6 retreated from New York only by luck of foul weather that concealed his movements.  His steady retreat spanned the Fall and crept into December, taking the army from a demolished New York City north to present day Westchester County, across the Hudson into New Jersey, past Newark, and ultimately opposite the Deleware River from Trenton.  Suffice it to say that the army was on its last legs.  The Continental Congress had fled Philadelphia, <em>‘American’</em> currency was nearly worthless, supplies were thin, roughly half of the colonial population sided with the British, and a significant number of enlistments were due to expire in January.  Without a turn in morale, OG-6 would be unable to enlist more volunteers.  The odds were good that he, along with a few other American <em>“traitors”</em>, would soon meet the long end of a rope.  And, that would have been the end of the American Project.  So, this was the situation in which OG-6 found himself. He needed a victory, or it would be death.</p>

<p>I raise this story because, in my view, it is a good example of decision making through hypothesis testing.  Yes, it’s also a demonstration of decision making under pressure, and I’m sure OG-6 didn’t formally <em>“state his alternate hypothesis”</em> or <em>“reject his null hypothesis,”</em> but follow me on this one for a moment while I don my nerd spectacles…</p>

<p>Hypothesis testing is a core statistical concept.  It is the structural framework through which decisions are made based on a rigorous analysis of the data available.  Given the task of making a decision in an uncertain world armed only with some factual prior observations and a handful of assumptions, structuring the decision problem as a hypothesis test allows one to make an <em>informed</em> decision within a specified confidence level.  <em>Informed</em> is the key word, since the outcome is never certain.  Inaccurate data, flawed assumptions, and pure bad luck can all lead to the wrong decision.  That is why in the realm of probability and statistics one can never be 100% certain.  The strongest assertion we can ever make is that something is true, <em>almost surely.</em>  It can be infuriating to contend with that specter of uncertainty, but that’s just how probabilies work.  So, next time someone asks you if you are positively sure that imposing 20th-Century-style tariffs on your trading partners is a bad idea, for example, try responding with “Yes! Almost surely!!”  You’re almost surely to get strange looks.  Jokes aside, leaders are charged with making decisions, and having a process beats sticking a finger in the air all of the time, almost surely.</p>

<p>How does the process work, then?  There are countless resources out there that describe the hypothesis testing framework in similar ways.  My personal favorite approach is the six-step proess outlined in the CFA curriculum:</p>

<ol>
  <li>
    <p><strong>State the hypothesis.</strong>  In stating the hypothesis, you’re actually making two statements.  The first is the null hypothesis \((H_o)\), or the statment that contradicts what you suspect to be true.  The second is the alternate hypothesis \((H_a)\), in which you state what you suspect to be true.  In OG-6’s case, it might have been:</p>

    <p>\(H_o:\) A surprise attack on Trenton will fail because the Hessians are prepared and the American army is too weak.</p>

    <p>\(H_a:\) The Hessians will be vulnerable due to post-Christmas fatigue, and a well-executed surprise attack can result in victory.</p>
  </li>
  <li><strong>Identify the appropriate test statistic.</strong>  Typically, one would leverage a statistical measure based on the assumed probability distribution that characterizes the data.  In our historical case study, it likely analogizes best to think of this step as determining the key factors that should inform the decision, such as:
    <ul>
      <li>The likelihood that the Hessians would expect the Americans to abide by the conventional norm of ceasing military activities during winter.  As such, they would likely celebrate Christmas and be vulnerable to a surprise attack.</li>
      <li>A belief that, since the British had spread its forces thin in the area in preparation for winter, the town would be lightly defended and difficult to reinforce.</li>
      <li>A realization that American morale was nearing a breaking point, and opportunities to turn it around were scarce.</li>
    </ul>
  </li>
  <li>
    <p><strong>Specify the level of significance.</strong>  Getting back to that <em>uncertainty</em> thing..  Specifying a significance level for your hypothesis test is equivalent to establishing how much confidence you want to have in your decision.  The relationship between significance level, \(\alpha\), and confidence, \(C\), is \(\alpha = 100 - C\).  Your gut reaction might be to say that you want to be 100% confident in your decision, e.g., a level of significance of 0 \((100\% - 100\%)\).  The trouble there, which we’ll discuss further below, is that an unreasonably high[low] level of confidence[\(\alpha\)] puts you at risk of decision paralysis.  A typical level of significance is \(\alpha = 0.05\), which suggests that you will be 95% confident in your decision.</p>
  </li>
  <li>
    <p><strong>State the decision rule.</strong>  This step uses the output of (2) and (3) to formalize our <em>go/no-go</em> decision.  When working with quantifiable data, we will compare our test statistic from (2) against the <em>critical value (CV)</em> that aligns with our stated significance level from (3) - more on that in our worked case study.  If the test statistic is below the CV, then we will conclude there is not enough evidence to reject the null hypothesis.  In that case OG-6 would call off the surprise attack because he would be reasonably confident it would fail.  On the other hand, if the test statistic is above the CV, we will reject the null and accept the alternate hypothesis, i.e., proceed with the attack because we’re reasonably confident of success.  I envision OG-6, rather than looking up probability tables and running calculations, was instead reasoning in his mind the odds that his base assumptions underlying the Trenton plan held true.</p>
  </li>
  <li>
    <p><strong>Calculate the test statistic.</strong>  In practice, this step entails data collection and processing to arrive at a measure to compare against the CV from (4).  OG-6, for his part, would have leveraged his extensive network of spies and informants, his knowledge of British standard operating procedure, and a wealth of knowledge accumulated in the course of out-foxing the Red Coats.  On compiling all the relevant data, he would have built a set of facts to weigh against the critical factors informing his go/no-go decision.</p>
  </li>
  <li><strong>Make a decision.</strong>  Time to lead, young leader!  In this final step, you are armed with data, you have a test measure from (5) and a CV from (4).  You implement your decision rule and make that decision.  This is not to say that at this point you let the chips fall where they may and blindly execute on the decision.  As new information becomes available, it is important to reassess the decision and determine if revisions are necessary.  For instance, OG-6 may have found that crossing the Deleware became impossible as a northeaster set in that night.  Or, a sufficient number of his supporting forces may not have been able to reach their objectives and aborted their part in the operation (which actually happened).</li>
</ol>

<p>The hypothesis testing framework is rigorous, but not rigid.  Even if OG-6 would not have recognized his decision process in the way I’ve described it here, his objective and flexible application of hypothesis testing enabled him to execute a daring surprise attack that neutralized the Hessian presence in Trenton.  The battle is widely seen as the turning point in the Revolution, after which the British never regained their momentum.</p>

<h3 id="equity-market-risk-premium">Equity Market Risk Premium</h3>

<p>That’s right, there’s only so much one can write about Trenton, NJ.  Let’s turn our sights to another practical application of hypothesis testing.  Have you, as an investor, ever asked yourself if you are being sufficiently rewarded for investing in the equity market?  If not, then, let’s do it now.  In a world flush with options for how to deploy capital, let us ask the simple question: “Should I invest my capital in equities, i.e., stocks, or should I put it towards government bonds?” In the former, I’m betting on the hope that my capital appreciates and I earn a return on my investment.  On the latter, I’m resigned to the fact that my investment will at best keep pace with the <em>risk-free</em> interest rate of growth.  I’m assuming market risk with the former, and there’s a good chance that I will lose money.  In the latter, I’m banking on the idea that the U.S. will not default and my principal is secure - historically a very good assumption.  By this logic, I should base my decision to allocate capital to equities if I can expect to earn an average rate of return \((r_e)\) in excess of the risk-free rate \((r_f)\). This excess return is the <strong>equity market risk premium</strong>, or <strong>ERP</strong>, defined as:</p>

\[ERP = r_e - r_f  \tag{1}\]

<p>As with many things in finance, there are several ways to measure ERP.  For instance, one can take a forward-looking view, or <em>ex ante</em>, by measuring ERP as a function of market P/E ratios, expected dividend rates and GDP growth outlooks.  If you have confidence in your forecasting abilities, then this is a good measure that incorporates your expectations for the future.  Another way to measure to ERP is backwards-looking, or <em>ex post</em>.  Rather than making explicit predictions, this approach assumes that history is a good guide to the future.  Clearly, there are shortcomings to both approaches.  Your ex ante inputs could be fundamentally flawed, resulting in inaccurate forward-looking estimates.  On the other hand, past performance does not guarantee future results, and ex post estimates that characterized a prior regime may no longer hold if the regime has changed.  One need not look further than the first quarter of 2025 in America to illustrate the challenge.  2024 ended on a bullish note following a strong bull run.  2025 woke up on the wrong side of bed.  If you grounded your ERP view on ex ante assumptions, then your model is already invalidated.  Similarly, if you assumed the 2024 music would keep playing, then your ex post estimates are potentially biased from the prior regime.  Confronted with this challenge, my personal view, from the standpoint of a long-term investor, is to favor an ex post approach with a sufficiently long time horizon that captures potentially more than one regime.</p>

<p>So, on that note, here’s our task, conditions and standard this month:</p>

<p><strong>Task:</strong> Conduct a hypothesis test to determine if ERP is greater than 0 over the long run.</p>

<p><strong>Conditions:</strong> Data inputs will consist of the <strong>SPY</strong> etf as a proxy for the U.S. equity market and <strong>3-Month (T-Bill) Treasury</strong> yields as a proxy for the risk-free rate.  We’ll use price action and yields dating back to the early 1990’s.</p>

<p><strong>Standard:</strong> Apply the 6-step framework to structure a rigorous hypothesis test to inform our decision.</p>

<p>Taking a break from Python, this month we’ll conduct the exercise in R.  For those not familiar with R, it comes just before S :&gt;  I’ll be here all week, folks…  Actually, R is a statistical software that was named somewhat in jest as an open source version of S and S-Plus.  While I’ll be the first to admit that gaining proficiency in R is a bit of a dark art, it is an extremely powerful tool for statistical analysis, and a very good addition to Python in the quantitative analyst’s kit.  For those who like to dig into the code, you can find this analysis in the <a href="https://github.com/rtrimble13/tb-notebooks.git">companion notebook</a>.</p>

<h3 id="by-the-numbers">By the Numbers…</h3>

<p>And here we go, starting at the top:</p>

<h4 id="step-1">Step 1</h4>

<p>We want to test our hypothesis that long-term ERP is greater than 0.  Our null and alternate hypotheses are thus:</p>

\[H_o := ERP \le 0 \\

H_a := ERP \gt 0\]

<p>If we simply wanted to test that ERP was non-zero, then we could have stated:</p>

\[H_o := ERP = 0 \\

H_a := ERP \neq 0\]

<p>This small nuance would have downstream implications.  However, we’ll stick with the first statement since we want to base our investment decision on the premise that ERP is positive.</p>

<h4 id="step-2">Step 2</h4>

<p>We’re not tackling Trenton here; we need a more quantifiable measure to test.  In our case, we’ll make the assumption that our estimate of long-term average ERP, or \(\bar{\mu_{ERP}}\), is normally distributed, and that our statistic to test that \(\bar{\mu_{ERP}} \gt 0\) is <strong>Student’s-T distributed</strong> with 375 degrees of freedom.  “Say what??” you ask..  I’ll explain.  We have to make an assumption that ERP conforms to some probability distribution.  With a large enough number of observations, or samples, of ERP we can assume it is normally distributed.  The normal distribution is the classical bell curve that describes many things in the world, such as the IQ’s of the world’s population, or the height of people with brown hair (I’m being random on purpose..).  Often times, though, assuming normality is too strong of an assumption due to the presence of outliers, especially when the dataset is not sufficiently large.  The Student’s-T distribution is commonly used in statistics for hypothesis testing when the true standard deviation of our sample population is unknown.  It resembles the normal bell curve, but has “fatter tails” at lower degrees of freedom.  Whereas the normal distribution must be specified with a mean \((\mu)\) and standard deviation \((\sigma)\), Student’s-T has one parameter, degrees of freedom.  We set that parameter as one less than the number of observations in our dataset, or 375 for monthly data between 1993 and Feb’25.  The below plot compares the normal verses T at with different degrees of freedom.  We can see that the T converges to normal as degrees of freedom increases.  Intuitively this makes sense because data becomes more “normal” as the number of observations grows.</p>

<p><img src="/TurningBull/images/posts/mar25/dist.png" alt="Distribution Plot" /></p>

<p>In settling on our choice of distribution (Student’s-T), we’ll define our test statistic as:</p>

\[t = \frac{\bar{\mu_{ERP}} - 0}{\frac{\sigma_{\bar{\mu_{ERP}}}}{\sqrt{n}}}  \tag{2}\]

<p>where \(\bar{\mu_{ERP}}\) is average ERP, and the denominator is our measure of standard error as a function of the standard deviation of ERP and the number of observations in our dataset.  Said differently, the test statistic is our measure of how different our average ERP is from 0, normalized by the variation of ERP in our observation set.</p>

<h4 id="step-3">Step 3</h4>

<p>In keeping with convention, we’ll specify a significance \(\alpha\) of 0.05, which corresponds to a 95% \((= 100 - 0.05)\) level of confidence.  To better understand this concept, it helps to visualize the probability density curve:</p>

<p><img src="/TurningBull/images/posts/mar25/area.png" alt="Area under the curve" /></p>

<p>Focusing on the left-hand plot, our test statistic, t-stat for short, will fall somewhere along the x-axis.  If it happens to be ~-2.2, for instance, then that would mean approximately 2.5% of the area under the curve is to the left of the t-stat (the shaded region in the left tail).  In this case, assuming we were conducting a two-sided test in line with the second set of hypothesis statements above, we would conclude that average ERP is significantly different (less than) 0, which would cause us to reject the null hypothesis and accept the alternate.  If instead the t-stat was 0 - in the middle of the distribution - then that would mean it is in the 50% percentile, or half of the area under the curve is less than the t-stat.  In that case, we would conclude there is not sufficient evidence that average ERP is different from 0 and we would fail to reject the null hypothesis.  This would be equivalent to OG-6 deciding against his surprise attack.  Since we are conducting a one-sided test, we should focus on the right-hand plot.  The shaded area to the right denotes the 5% \(\alpha\) significance, or the 5% of the area under the curve that will help us decide if our t-stat is significantly greater than 0.  The shaded areas in both plots represent our 95% confidence threshold for rejecting the null hypothesis.  With fewer observations (data points), the tails of the curves would be larger, and the areas that represent 5% of the distribution would be further away from 0.  Intuitively, this is because the standard errors of our measurements would be higher, thus requiring a larger t-stat for us to reject the null.</p>

<h4 id="step-4">Step 4</h4>

<p>We’re getting there…  Given our choice of \(\alpha = 0.05\) and T-distribution with 375 degrees of freedom, we can identify the critical value that corresponds to the shaded area in the right-hand plot above.  R makes this very simple:</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Determining the t-test critical value..</span><span class="w">
</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">erp</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="w">   </span><span class="c1"># erp is our dataset of monthly excess returns of SPY over T-bill yields since 1993; n is our degrees of freedom.</span><span class="w">

</span><span class="n">alpha</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0.05</span><span class="w">          </span><span class="c1"># significance level</span><span class="w">
</span><span class="n">crit_value</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">qt</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">alpha</span><span class="p">,</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">lower.tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<p>The <em>qt</em> funtion returns the value representing the qth percentile in the T-distribution.  For us, this value is +1.65.  If our yet-to-be-computed t-stat is greater than 1.65, then we know it falls within the top (right-hand side) 5% in the distribution of probable values.  We would then conclude that our t-stat and our average ERP is significantly greater than 0.  Otherwise, we’ll have to conclude insufficient evidence to make that claim.</p>

<h4 id="step-5">Step 5</h4>

<p>Now we can start working with our data.  Starting with <strong>SPY</strong>, we need to transform daily adjusted-close prices into monthly returns:</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">spy_monthly</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">spy_daily</span><span class="p">[,</span><span class="w"> </span><span class="n">.</span><span class="p">(</span><span class="n">adjClose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">last</span><span class="p">(</span><span class="n">adjClose</span><span class="p">)),</span><span class="w">
                         </span><span class="n">by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">.</span><span class="p">(</span><span class="n">year</span><span class="p">(</span><span class="n">date</span><span class="p">),</span><span class="w"> </span><span class="n">month</span><span class="p">(</span><span class="n">date</span><span class="p">))]</span><span class="w">

</span><span class="c1">## reformat the date and compute returns</span><span class="w">
</span><span class="n">spy_monthly</span><span class="p">[,</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">as.Date</span><span class="p">(</span><span class="n">paste</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">month</span><span class="p">,</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"-"</span><span class="p">))]</span><span class="w">
</span><span class="n">spy_monthly</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">spy_monthly</span><span class="p">[,</span><span class="w"> </span><span class="n">.</span><span class="p">(</span><span class="n">date</span><span class="p">,</span><span class="w"> </span><span class="n">adjClose</span><span class="p">)]</span><span class="w">
</span><span class="n">spy_monthly</span><span class="p">[,</span><span class="w"> </span><span class="n">rtn</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nf">round</span><span class="p">((</span><span class="n">adjClose</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">shift</span><span class="p">(</span><span class="n">adjClose</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)]</span><span class="w">
</span></code></pre></div></div>

<p>Next, we need to convert our 3-Month T-Bill yields into monthly equivalent yields.  Since the yield on a T-Bill is quoted in simple annual rates - simple because they do not pay coupons - we will simply divide by 12 to get the monthly equivalent:</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">t_bill</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">t_bill</span><span class="p">[,</span><span class="w"> </span><span class="n">.</span><span class="p">(</span><span class="n">date</span><span class="p">,</span><span class="w"> </span><span class="n">rate</span><span class="p">)]</span><span class="w">  </span><span class="c1"># t_bill already pre-processed to monthly observations similar to SPY</span><span class="w">

</span><span class="n">t_bill</span><span class="p">[,</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="n">rate</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">12</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)]</span><span class="w">
</span></code></pre></div></div>

<p>Finally, we merge the two series into one dataset and compute ERP for each month:</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">erp_monthly</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">na.omit</span><span class="p">(</span><span class="n">merge</span><span class="p">(</span><span class="n">spy_monthly</span><span class="p">,</span><span class="w"> </span><span class="n">t_bill</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"date"</span><span class="p">,</span><span class="w"> </span><span class="n">all.x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">))</span><span class="w">

</span><span class="n">erp_monthly</span><span class="p">[,</span><span class="w"> </span><span class="n">erp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">rtn</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rate</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<p>Before going further, let’s take a few moments to note a few key assumptions we have to make for our test to be valid:</p>
<ol>
  <li>Our random variable, monthly ERP in this case, should be independent and identically distributed, or i.i.d.  Based on our sampling approach, i.e., using monthly returns and yields, we satisfy this assumption.</li>
  <li>Our data should be approximately normally distributed.  We can plot a histogram and Quantile-Quantile chart to check this assumption.</li>
  <li>Our data should be continuous, meaning that ERP can theoretically take on any value between +/- infinity, which it can.</li>
</ol>

<p>The below plots show the monthly time series of ERP and associated QQ chart.  The the left-hand chart we see ERP is both positive and negative through time.  By visual inspection, it’s plausible that it is positive on average, though not surprising to see the negative values tend to have larger magnitudes than the positive ones.  The right-hand chart compares the empirical quantiles relative to theoretical, normally distributed ones.  If our data was truely normally distributed, then all of the points would fall neatly on the red line.  The tails of our data veer off the line, though, so we know we’re not dealing with a truely normal set.  For our purposes, though, we can say the data is normal enough to support our assumptions.</p>

<p><img src="/TurningBull/images/posts/mar25/qqplot.png" alt="QQ" /></p>

<p>Here we plot a histogram of ERP and compare with a normal distribution.  As we saw in the time series plot, there is a negative skew driven by the larger values in the left tail.  The sample average is 73 basis points.  So long as the standard error does not dominate the t-stat, we will be able to conclude that this estimate is significantly greater than 0.</p>

<p><img src="/TurningBull/images/posts/mar25/hist.png" alt="ERP Histogram" /></p>

<p>If you’re still with me, I applaud your moxy.  We’ll calculate our test statistic with one more line of code:</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">t.test</span><span class="p">(</span><span class="n">erp_monthly</span><span class="o">$</span><span class="n">erp</span><span class="p">,</span><span class="w"> </span><span class="n">mu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">alternative</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"greater"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>In the above, we’re computing our t-stat as defined in equation (2), specifying that the value we’re comparing average ERP against is 0, and that the test is one-sided, e.g., “greater” than 0.</p>

<h4 id="step-6">Step 6</h4>

<p>Time to evaluate the test results and make a decision!</p>

<p><img src="/TurningBull/images/posts/mar25/t_test.png" alt="T-Test" /></p>

<p>The test output contains all the information we need to make a decision.  Let’s interpret it line by line:</p>
<ol>
  <li>Our data is monthly observations of ERP.</li>
  <li>The computed t-stat is 3.11 (recall the critical value is 1.65), based on 375 degrees of freedom.</li>
  <li>The p-value is close to 0, and well below our significance level of 0.05.  This means the probability of average ERP being less than or equal to 0 to be virtually 0.</li>
  <li>The 95% confidence interval of average ERP to be significant is \([0.37, +\infty)\), and our estimated mean value of 73bps is within that interval.</li>
</ol>

<p>So, based on this test result, we will reject the null hypothesis and conclude that there is positive premium over the risk-free rate to be earned by investing in equities.  Great success!!  Annualizing 73bp suggests an 8.76% annual ERP on average.</p>

<p>To the seasoned investor, the result is probably obvious, almost surely.  However, what we’ve demonstrated is a rigorous approach to decision making that can be generalized towards all sorts of problems, and, in my view, is something to celebrate.  This sprawling narrative barely scratches the surface (of the theory, application, and flexibility of this framework), but I hope it has provided some insight to the power of applied statistics in making informed decisions.</p>

<h3 id="a-psa-on-error">A PSA on Error</h3>

<p>As discussed earlier, there is no certainty in decision making.  Even when acting on flawless information built from the strongest assumptions, there remains uncertainty in the outcome.  So, it is useful to talk a little of the types of errors we may encounter as a result of our decisioning.</p>

<p>When we reject \(H_o\) even though it is correct, we are making a <strong>Type I</strong> error.  This is an error of commission, meaning that we are accepting the alternate hypothesis when it is in fact a false positive.  These sorts of errors are often the easiest to measure because we’ve taken an action only to learn first hand that it was the wrong decision.  If we set our significance level too high, it increases the chances of a Type I.  This is because the t-stat has a higher likelihood of being greater than the critical value, making us more likely to reject the null.</p>

<ul>
  <li>For OG-6, a Type I error would have resulted in encountering a well-fortified and angry mob of Hessians just waiting to mow down the Continentals.</li>
  <li>In our case, a Type I error would result from acting on the decision to invest in equities only to find that T-Bill’s outpace our returns over the investment horizon.</li>
</ul>

<p>Another type of error occurs when we fail to reject \(H_o\) even though it is wrong.  This is an error of omission, commonly thought of as an opportunity cost.  In this case we reject the alternate hypothesis when it is actually true.  We fail to act when we should have done so.  This is a <strong>Type II</strong> error, also known as a false negative.  It can happen if we set our significance level too low, increasing the chances that the t-stat will have less magnitude than the critical value.  These errors can be just as bad as Type Is, but they are also more difficult to measure and less often felt directly.</p>

<ul>
  <li>For OG-6, a Type II would have resulted from a decision to call off the attack.  As a missed opportunity, the demoralized Colonial Army would have fallen appart, and today we Americans would be drinking tea while continuing to gripe about taxation without representation - oh, the irony!</li>
  <li>In our case, a Type II error would have us sink our wealth in Treasuries and miss out on the opportunity to earn more in equities.</li>
</ul>

<p>So, there you have it.  I, for one, believe that OG-6, like Chuck Norris, always correctly rejected the null hypothesis, almost surely :&gt;</p>

<p>Action front!  Let’s move out and draw fire!!</p>

<p><strong>Note:</strong> This post is not investment advice.  Any opinions stated are my own, and do not reflect those of my employer.  This post is meant to be educational and entertaining.  If you find it useful, please let me know.  If you think it sucks, and are sure you’re not committing a Type I error, please also let me know.</p>

<h4 id="sources">Sources</h4>

<p><a href="https://en.wikipedia.org/wiki/Battle_of_Trenton">Wikipedia: Battle of Trenton</a></p>

<p><a href="https://www.americanhistorycentral.com/entries/battle-of-trenton/">American History Central</a></p>

<p><a href="https://cran.r-project.org">R Statistical Software</a></p>

<p><a href="https://fred.stlouisfed.org/">Federal Reserve Data - FRED</a></p>

<p><a href="https://github.com/rtrimble13/tb-notebooks.git">TurningBull companion Jupyter Notebook Git Repo</a></p>

<p><a href="https://site.financialmodelingprep.com">Financial Modeling Prep (FMP)</a></p>

  </section>
  
</article>



      </div>

      <footer class="footer">
  <div class="email-subscription">
  <div class="email-subscription__content">
    <h3 class="email-subscription__title">
      <i class="icon icon-mail"></i>
      Subscribe for Updates
    </h3>
    <p class="email-subscription__description">
      Get notified when new articles about quantitative finance, economics, and leadership are published.
    </p>
    
    <form class="email-subscription__form" 
          action="https://formspree.io/f/xwpeangg" 
          method="POST"
          id="subscription-form">
      <div class="email-subscription__input-group">
        <input type="email" 
               name="email" 
               placeholder="Enter your email address" 
               required 
               class="email-subscription__input"
               id="subscription-email">
        <input type="hidden" name="_subject" value="New subscription to TurningBull blog">
        <input type="hidden" name="_next" value="http://0.0.0.0:4000/TurningBull/subscription-success">
        <input type="hidden" name="_captcha" value="false">
        <button type="submit" class="email-subscription__button">
          <span class="email-subscription__button-text">Subscribe</span>
          <span class="email-subscription__button-loading hidden">
            <i class="icon icon-refresh"></i>
          </span>
        </button>
      </div>
    </form>
    
    <p class="email-subscription__privacy">
      <small>No spam, unsubscribe anytime. We respect your privacy.</small>
    </p>
    
    <div class="email-subscription__messages">
      <div class="email-subscription__success hidden" id="success-message">
        <i class="icon icon-check"></i>
        Thank you for subscribing! Please check your email to confirm.
      </div>
      <div class="email-subscription__error hidden" id="error-message">
        <i class="icon icon-close"></i>
        <span class="error-message">Something went wrong. Please try again.</span>
      </div>
    </div>
  </div>
  
  <button class="email-subscription__close" title="Close" onclick="this.parentElement.style.display='none'; localStorage.setItem('tb-subscription-interacted', 'dismissed');">
    <i class="icon icon-x-circle"></i>
  </button>
</div>

<script>
// Vanilla JavaScript fallback for subscription form functionality
(function() {
  'use strict';
  
  function initSubscriptionForm() {
    var form = document.getElementById('subscription-form');
    var emailInput = document.getElementById('subscription-email');
    var submitButton = form.querySelector('.email-subscription__button');
    var buttonText = form.querySelector('.email-subscription__button-text');
    var buttonLoading = form.querySelector('.email-subscription__button-loading');
    var successMsg = document.getElementById('success-message');
    var errorMsg = document.getElementById('error-message');
    
    if (!form) return;
    
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      var email = emailInput.value.trim();
      
      // Reset messages
      successMsg.classList.add('hidden');
      errorMsg.classList.add('hidden');
      
      // Validate email
      if (!isValidEmail(email)) {
        showError('Please enter a valid email address.');
        return;
      }
      
      // Show loading state
      submitButton.disabled = true;
      buttonText.classList.add('hidden');
      buttonLoading.classList.remove('hidden');
      
      // Create form data
      var formData = new FormData(form);
      
      // Submit to Formspree
      fetch(form.action, {
        method: 'POST',
        body: formData,
        headers: {
          'Accept': 'application/json'
        }
      })
      .then(function(response) {
        if (response.ok) {
          showSuccess();
          form.reset();
          localStorage.setItem('tb-subscription-interacted', 'subscribed');
        } else {
          response.json().then(function(data) {
            if (data.errors) {
              showError(data.errors.map(function(error) {
                return error.message;
              }).join(', '));
            } else {
              showError('Unable to subscribe. Please try again later.');
            }
          });
        }
      })
      .catch(function(error) {
        showError('Unable to subscribe. Please try again later.');
      })
      .finally(function() {
        // Reset button state
        submitButton.disabled = false;
        buttonText.classList.remove('hidden');
        buttonLoading.classList.add('hidden');
      });
    });
    
    function isValidEmail(email) {
      var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }
    
    function showSuccess() {
      successMsg.classList.remove('hidden');
      setTimeout(function() {
        successMsg.classList.add('hidden');
      }, 5000);
    }
    
    function showError(message) {
      errorMsg.querySelector('.error-message').textContent = message;
      errorMsg.classList.remove('hidden');
      setTimeout(function() {
        errorMsg.classList.add('hidden');
      }, 5000);
    }
  }
  
  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initSubscriptionForm);
  } else {
    initSubscriptionForm();
  }
})();
</script>
  <span class="footer__copyright">&copy; 2025 Roger Trimble. All rights reserved.</span>
</footer>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
// Fallback for jQuery if CDN fails
if (typeof jQuery == 'undefined') {
  document.write('<script type="text/javascript" src="/TurningBull/js/jquery-3.3.1.min.js"><\/script>');
}
</script>
<script type="text/javascript" src="/TurningBull/js/main.js?1752841309215837778"></script>


    </div>
  </body>
</html>